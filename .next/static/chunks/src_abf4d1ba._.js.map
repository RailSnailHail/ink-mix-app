{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/jim/ink-mix-app/src/lib/store.ts"],"sourcesContent":["import { create } from 'zustand';\n\nexport interface MixComponent {\n  inkId: number;\n  name: string;\n  colorHex: string;\n  grams: number;\n}\n\nexport interface Recipe {\n  id: number;\n  name: string;\n  swatchHex: string;\n  components: {\n    ratio: number;\n    Ink: { id: number; name: string; colorHex: string; };\n  }[];\n}\n\ninterface MixState {\n  // For both freestyle and recipe mixes\n  mixName: string;\n  components: MixComponent[];\n  setMixName: (name: string) => void;\n  addComponent: (newComponent: MixComponent) => void;\n  removeLastComponent: () => void;\n  clearMix: () => void;\n\n  // For recipe-based ratio calculation\n  activeRecipe: Recipe | null;\n  targetGrams: number;\n  setActiveRecipe: (recipe: Recipe | null) => void;\n  setTargetGrams: (grams: number) => void;\n}\n\nexport const useMixStore = create<MixState>((set) => ({\n  mixName: '',\n  components: [],\n  activeRecipe: null,\n  targetGrams: 100, // Default target weight\n\n  setMixName: (name) => set({ mixName: name }),\n\n  addComponent: (newComponent) => set((state) => {\n    const existingIndex = state.components.findIndex(c => c.inkId === newComponent.inkId);\n    if (existingIndex > -1) {\n      const updated = [...state.components];\n      updated[existingIndex].grams += newComponent.grams;\n      return { components: updated };\n    }\n    return { components: [...state.components, newComponent] };\n  }),\n\n  removeLastComponent: () => set((state) => ({ components: state.components.slice(0, -1) })),\n\n  clearMix: () => set({ mixName: '', components: [], activeRecipe: null, targetGrams: 100 }),\n\n  setActiveRecipe: (recipe) => set({ activeRecipe: recipe, mixName: recipe ? `Re-mix of ${recipe.name}` : '', components: [] }),\n\n  setTargetGrams: (grams) => set({ targetGrams: grams > 0 ? grams : 1 }),\n}));"],"names":[],"mappings":";;;AAAA;;AAmCO,MAAM,cAAc,CAAA,GAAA,wPAAA,CAAA,SAAM,AAAD,EAAY,CAAC,MAAQ,CAAC;QACpD,SAAS;QACT,YAAY,EAAE;QACd,cAAc;QACd,aAAa;QAEb,YAAY,CAAC,OAAS,IAAI;gBAAE,SAAS;YAAK;QAE1C,cAAc,CAAC,eAAiB,IAAI,CAAC;gBACnC,MAAM,gBAAgB,MAAM,UAAU,CAAC,SAAS,CAAC,CAAA,IAAK,EAAE,KAAK,KAAK,aAAa,KAAK;gBACpF,IAAI,gBAAgB,CAAC,GAAG;oBACtB,MAAM,UAAU;2BAAI,MAAM,UAAU;qBAAC;oBACrC,OAAO,CAAC,cAAc,CAAC,KAAK,IAAI,aAAa,KAAK;oBAClD,OAAO;wBAAE,YAAY;oBAAQ;gBAC/B;gBACA,OAAO;oBAAE,YAAY;2BAAI,MAAM,UAAU;wBAAE;qBAAa;gBAAC;YAC3D;QAEA,qBAAqB,IAAM,IAAI,CAAC,QAAU,CAAC;oBAAE,YAAY,MAAM,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC;gBAAG,CAAC;QAExF,UAAU,IAAM,IAAI;gBAAE,SAAS;gBAAI,YAAY,EAAE;gBAAE,cAAc;gBAAM,aAAa;YAAI;QAExF,iBAAiB,CAAC,SAAW,IAAI;gBAAE,cAAc;gBAAQ,SAAS,SAAS,CAAC,UAAU,EAAE,OAAO,IAAI,EAAE,GAAG;gBAAI,YAAY,EAAE;YAAC;QAE3H,gBAAgB,CAAC,QAAU,IAAI;gBAAE,aAAa,QAAQ,IAAI,QAAQ;YAAE;IACtE,CAAC","debugId":null}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///home/jim/ink-mix-app/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,4NAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,yLAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///home/jim/ink-mix-app/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,4TAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,mcACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///home/jim/ink-mix-app/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n        destructive:\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"span\"> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"span\"\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,8OAAA,CAAA,MAAG,AAAD,EACtB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,uSAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS","debugId":null}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":["file:///home/jim/ink-mix-app/src/app/recipes/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useMemo } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useMixStore, type Recipe } from '@/lib/store';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge'; // New import\n\nexport default function RecipesPage() {\n  const router = useRouter();\n  const setActiveRecipe = useMixStore((state) => state.setActiveRecipe);\n\n  const [allRecipes, setAllRecipes] = useState<Recipe[]>([]);\n  const [filteredRecipes, setFilteredRecipes] = useState<Recipe[]>([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedShade, setSelectedShade] = useState<string | null>(null);\n\n  useEffect(() => {\n    async function fetchRecipes() {\n      const response = await fetch('/api/recipes');\n      if (response.ok) {\n        const data = await response.json();\n        setAllRecipes(data);\n        setFilteredRecipes(data);\n      }\n    }\n    fetchRecipes();\n  }, []);\n\n  // --- NEW: Create a list of unique shades from all recipes ---\n  const availableShades = useMemo(() => {\n    const shades = new Set<string>();\n    allRecipes.forEach(recipe => {\n      recipe.components.forEach(comp => {\n        if (comp.Ink.shade) shades.add(comp.Ink.shade);\n      });\n    });\n    return Array.from(shades).sort();\n  }, [allRecipes]);\n\n  // --- MODIFIED: Filtering logic now includes selected shade ---\n  useEffect(() => {\n    let results = allRecipes;\n    if (selectedShade) {\n      results = results.filter(recipe => \n        recipe.components.some(comp => comp.Ink.shade === selectedShade)\n      );\n    }\n    if (searchTerm) {\n      results = results.filter(recipe =>\n        recipe.name.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n    }\n    setFilteredRecipes(results);\n  }, [searchTerm, allRecipes, selectedShade]);\n\n  const handleRemix = (recipe: Recipe) => { /* ... unchanged ... */ };\n\n  return (\n    <div className=\"container mx-auto p-4\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h1 className=\"text-2xl font-bold\">Recipe Book</h1>\n        <Input\n          placeholder=\"Search recipes...\"\n          className=\"max-w-sm\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n        />\n      </div>\n\n      {/* --- NEW: Shade Filter Badges --- */}\n      <div className=\"flex flex-wrap gap-2 mb-4\">\n        <Badge\n          variant={!selectedShade ? 'default' : 'outline'}\n          onClick={() => setSelectedShade(null)}\n          className=\"cursor-pointer\"\n        >\n          All\n        </Badge>\n        {availableShades.map(shade => (\n          <Badge\n            key={shade}\n            variant={selectedShade === shade ? 'default' : 'outline'}\n            onClick={() => setSelectedShade(shade)}\n            className=\"cursor-pointer\"\n          >\n            {shade}\n          </Badge>\n        ))}\n      </div>\n\n      {/* The rest of the JSX (the grid of cards) is unchanged */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\n         {/* ... */}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AAEA,uOAA+C,aAAa;;;AAR5D;;;;;;AAUe,SAAS;;IACtB,MAAM,SAAS,CAAA,GAAA,oQAAA,CAAA,YAAS,AAAD;IACvB,MAAM,kBAAkB,CAAA,GAAA,sHAAA,CAAA,cAAW,AAAD;oDAAE,CAAC,QAAU,MAAM,eAAe;;IAEpE,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IACzD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IACnE,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAiB;IAElE,CAAA,GAAA,4RAAA,CAAA,YAAS,AAAD;iCAAE;YACR,eAAe;gBACb,MAAM,WAAW,MAAM,MAAM;gBAC7B,IAAI,SAAS,EAAE,EAAE;oBACf,MAAM,OAAO,MAAM,SAAS,IAAI;oBAChC,cAAc;oBACd,mBAAmB;gBACrB;YACF;YACA;QACF;gCAAG,EAAE;IAEL,+DAA+D;IAC/D,MAAM,kBAAkB,CAAA,GAAA,4RAAA,CAAA,UAAO,AAAD;gDAAE;YAC9B,MAAM,SAAS,IAAI;YACnB,WAAW,OAAO;wDAAC,CAAA;oBACjB,OAAO,UAAU,CAAC,OAAO;gEAAC,CAAA;4BACxB,IAAI,KAAK,GAAG,CAAC,KAAK,EAAE,OAAO,GAAG,CAAC,KAAK,GAAG,CAAC,KAAK;wBAC/C;;gBACF;;YACA,OAAO,MAAM,IAAI,CAAC,QAAQ,IAAI;QAChC;+CAAG;QAAC;KAAW;IAEf,gEAAgE;IAChE,CAAA,GAAA,4RAAA,CAAA,YAAS,AAAD;iCAAE;YACR,IAAI,UAAU;YACd,IAAI,eAAe;gBACjB,UAAU,QAAQ,MAAM;6CAAC,CAAA,SACvB,OAAO,UAAU,CAAC,IAAI;qDAAC,CAAA,OAAQ,KAAK,GAAG,CAAC,KAAK,KAAK;;;YAEtD;YACA,IAAI,YAAY;gBACd,UAAU,QAAQ,MAAM;6CAAC,CAAA,SACvB,OAAO,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW;;YAE7D;YACA,mBAAmB;QACrB;gCAAG;QAAC;QAAY;QAAY;KAAc;IAE1C,MAAM,cAAc,CAAC,UAA6C;IAElE,qBACE,4TAAC;QAAI,WAAU;;0BACb,4TAAC;gBAAI,WAAU;;kCACb,4TAAC;wBAAG,WAAU;kCAAqB;;;;;;kCACnC,4TAAC,oIAAA,CAAA,QAAK;wBACJ,aAAY;wBACZ,WAAU;wBACV,OAAO;wBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;0BAKjD,4TAAC;gBAAI,WAAU;;kCACb,4TAAC,oIAAA,CAAA,QAAK;wBACJ,SAAS,CAAC,gBAAgB,YAAY;wBACtC,SAAS,IAAM,iBAAiB;wBAChC,WAAU;kCACX;;;;;;oBAGA,gBAAgB,GAAG,CAAC,CAAA,sBACnB,4TAAC,oIAAA,CAAA,QAAK;4BAEJ,SAAS,kBAAkB,QAAQ,YAAY;4BAC/C,SAAS,IAAM,iBAAiB;4BAChC,WAAU;sCAET;2BALI;;;;;;;;;;;0BAWX,4TAAC;gBAAI,WAAU;;;;;;;;;;;;AAKrB;GAzFwB;;QACP,oQAAA,CAAA,YAAS;QACA,sHAAA,CAAA,cAAW;;;KAFb","debugId":null}}]
}